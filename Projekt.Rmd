---
title: "Nintendo platvormi mängude analüüs"
author: "Liisa-Miina Pilv, Priit Vallap"
date: "22. november 2021"
output:
  pdf_document: default
  html_document: default
---
# Sissejuhatus
kust võtsime andmed, mis on uurimisküsimused

# Analüüs
vastame järkjärgult küsimustele, lisame visualiseeringuid tabelite ja graafikute näol; pdf-i koodi ei jäta vaid ainult analüüsitekst

```{r andmed, include=FALSE}
library(dplyr)
data <- read.csv(file="https://raw.githubusercontent.com/yaylinda/nintendo-games-ratings/master/data.csv", header=T)

#Eemaldame mängud, mida välja ei lastudki (date = Canceled) või on alles arenduses (TBA)
library(stringr)
releasedGames <- filter(data, !str_detect(date, 'TBA|Canceled'))

#Konventeerime kuupäevad tekstilisteks nädalapäevadeks ning lisame nädalapäevad eraldi tulbana tabelisse.
releasedGames$weekday <- weekdays(as.Date(releasedGames$date, "%B %d, %Y"))

#Konventeerime kuupäevadest tekstilised kuude nimetused ning lisame väärtused eraldi tulbana tabelisse
library(lubridate) #vajalik kuupäeva töötlemiseks
releasedGames$month <- month.name[month(as.Date(releasedGames$date, "%B %d, %Y"))]

#Töötleme andmed hinnangute võrdlemiseks. Eemaldame read, kus nii kriitikute kui kasutajate hinnangud puuduvad. 
completeScores <- na.omit(releasedGames, cols = c("meta_score", "user_score")) %>%
# Loome uue rea, kus lahutame kriitikute koondskoorist kasutajate koondskoori.
  mutate(score_diff = meta_score - user_score*10)

```

# Kokkuvõte